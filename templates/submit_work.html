    <!DOCTYPE html>
   
    <html lang="en">
        <head>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <title>Submit Work</title>
            <meta name="description" content="">
            <meta name="viewport" content="width=device-width, initial-scale=1">


             <!-----------------Font Awesome------------------>
     <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
 
      <!----------------------------------------------------->

    <link rel="stylesheet" href="/static/css/index.css">
    <style>
        body
        {
            overflow-x: hidden;
      height: 100vh;
      background: transparent; /* Remove the gradient since particles.js will be the background */
      color: white !important;
      position: relative;
       margin: 0;
        }

        #particles-js {
             position: fixed;
             width: 100%;
            height: 100%;
            background-color: #000000;
            background-repeat: no-repeat;
            background-size: cover;
            background-position: 50% 50%;
            z-index: -1;
        }

        canvas {
            display: block;
        }
        
       
        
        .container-submit-task {
            max-width: 800px;
            margin: 0 auto;
            background-color: #000000;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
           
        } 
        
        .page-title-submit-task {
            color: #ffffff;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .success-message-submit-task, .error-message-submit-task {
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-weight: bold;
            text-align: center;
            display: none; /* Hidden by default */
        }
        
        .success-message-submit-task {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .error-message-submit-task {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .form-submit-task {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .form-group-submit-task {
            margin-bottom: 15px;
        }
        
        .form-group-submit-task label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        
        .form-group-submit-task input,
        .form-group-submit-task select,
        .form-group-submit-task textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .form-group-submit-task textarea {
            min-height: 120px;
        }
        
        .file-upload-submit-task {
            border: 2px dashed #ddd;
            padding: 30px;
            text-align: center;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .file-upload-submit-task:hover, .file-upload-submit-task.highlight {
            background-color: #f0f0f0;
        }
        
        .file-upload-icon-submit-task {
            font-size: 30px;
            margin-bottom: 10px;
        }
        
        .file-upload-submit-task p {
            margin: 10px 0;
            font-weight: bold;
        }
        
        .file-upload-submit-task small {
            color: #888;
        }
        
        #fileInput-submit-task {
            display: none;
        }
        
        #fileList {
            margin-top: 15px;
        }
        
        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-bottom: 8px;
            background-color: #f9f9f9;
        }
        
        .file-info {
            display: flex;
            align-items: center;
        }
        
        .file-name {
            font-weight: bold;
            margin-right: 10px;
        }
        
        .file-size {
            color: #888;
            font-size: 14px;
        }
        
        .remove-file {
            background: none;
            border: none;
            color: #dc3545;
            cursor: pointer;
            font-size: 18px;
        }
        
        .actions {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .btn-submit-task {
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background 0.3s;
        }
        
        .btn-secondary-submit-task {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-secondary-submit-task:hover {
            background-color: #5a6268;
        }
        
        .submit-btn-submit-task {
            background-color: #28a745;
            color: white;
        }
        
        .submit-btn-submit-task:hover {
            background-color: #218838;
        }
        
        /* Added style for highlighted drop area */
        .highlight {
            background-color: #e9f5ff !important;
            border-color: #4a9eff !important;
        }
        .submit-form-submit-task
        {
            background-color: #151515;
            
            box-shadow: 0 0px 100px  #4c025f;
        }
        label
        {
            color: white !important;
        }
    </style>

        


        </head>
        <body class="submit-task">

            <!-- particles.js container --> 
            <div id="particles-js"></div>

             <!---------------------------------------------HEADER--------------------------------------------------->

     <header class="main-header" id="up">
        <div class="header-container">
          <div  class="left-section">
            <a href="javascript:void(0);" onclick="openSidebar()"><i class="fa-solid fa-bars fa-xl" style="color: #f7f7f7;"></i></a>
           <a href="#" class="brand-name">  <div style="transform: scale(1);"><svg width="290.6" height="50" viewBox="0 0 369.9130434782609 76.08695652173914" class="looka-1j8o68f"><defs id="SvgjsDefs1973"></defs><g id="SvgjsG1974" featurekey="symbolFeature-0" transform="matrix(0.8137642408742154,0,0,0.8137642408742154,-2.441292722622646,-2.8481748430597538)" fill="#b469ff"><g xmlns="http://www.w3.org/2000/svg"><g><path d="M95,97H4.5C3.671,97,3,96.328,3,95.5V5c0-0.829,0.671-1.5,1.5-1.5S6,4.171,6,5v89h89c0.828,0,1.5,0.672,1.5,1.5    S95.828,97,95,97z"></path></g><g><path d="M5,82c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l38-38c0.391-0.391,1.023-0.391,1.414,0    l15.261,15.261l31.294-34.229c0.373-0.409,1.007-0.436,1.413-0.063c0.407,0.373,0.436,1.005,0.063,1.413l-32,35    c-0.185,0.201-0.443,0.318-0.716,0.325c-0.276,0.006-0.536-0.1-0.729-0.293L43,44.414L5.707,81.707C5.512,81.902,5.256,82,5,82z"></path></g><g><path d="M95,29c-0.26,0-0.516-0.102-0.707-0.293l-8-8c-0.286-0.286-0.372-0.716-0.217-1.09C86.23,19.244,86.596,19,87,19h8    c0.553,0,1,0.448,1,1v8c0,0.404-0.243,0.769-0.617,0.924C95.259,28.975,95.129,29,95,29z M89.414,21L94,25.586V21H89.414z"></path></g></g></g><g id="SvgjsG1975" featurekey="nameFeature-0" transform="matrix(0.7840078209373934,0,0,0.7840078209373934,92.14111430686782,23.01999041075029)" fill="#b469ff"><path d="M23.281 7.5 l11.797 0 l0 -6.0938 l-30.156 0 l0 6.0938 l18.359 0 z M16.719 13.594000000000001 l6.5625 0 l0 25 l-6.5625 0 l0 -25 z M70.703 38.5937 l7.0313 0 l-13.594 -37.266 l-7.1094 0 l7.8906 22.266 z M41.9531 38.5937 l6.875 0 l8.125 -19.844 l-3.3594 -8.9063 z M104.922 1.4059999999999988 c-2.8646 0 -5.5209 0.4686 -7.9688 1.4061 c-2.3959 0.9375 -4.4792 2.2396 -6.2501 3.9063 c-1.7188 1.5625 -3.0729 3.5416 -4.0625 5.9375 c-0.83336 2.0313 -1.3021 4.2448 -1.4063 6.6406 l0 2.3438 l6.875 0 l0 -2.3438 c0.10414 -1.7709 0.39063 -3.2031 0.85938 -4.2969 c0.625 -1.5104 1.4844 -2.8645 2.5781 -4.0624 c1.3021 -1.1979 2.6563 -2.0833 4.0625 -2.6562 c1.6146 -0.625 3.3855 -0.9375 5.3126 -0.9375 l9.8438 0 l0 -5.9375 l-9.8438 0 z M107.89099999999999 18.984 l0.000076294 1.4843 l0.078125 0 c-0.10414 1.6666 -0.41664 3.2031 -0.9375 4.6094 c-0.67711 1.6146 -1.5365 2.9427 -2.5781 3.9844 c-1.1459 1.1459 -2.5 2.0313 -4.0625 2.6563 c-1.6146 0.625 -3.3855 0.9375 -5.3126 0.9375 l-9.8438 0 l0 5.9375 l9.8438 0 c2.8646 0 5.5209 -0.46875 7.9688 -1.4063 c2.3959 -0.9375 4.4792 -2.2396 6.2501 -3.9063 c1.8229 -1.8229 3.177 -3.802 4.0624 -5.9374 c0.9375 -2.0834 1.4063 -4.375 1.4063 -6.875 l0 -1.4844 l-6.875 0 z M156.641 38.5156 l-12.734 -16.25 l-4.4531 4.8438 l9.2969 11.406 l7.8906 0 z M147.969 1.4059999999999988 l-17.734 18.359 l0 -18.359 l-6.4063 0 l0 37.109 l6.4063 0 l0 -8.75 l26.328 -28.359 l-8.5938 0 z M167.2656 12.5 c0.9375 -2.2916 2.2916 -4.2447 4.0624 -5.8593 c1.6146 -1.6146 3.698 -2.9167 6.2501 -3.9063 s5.2344 -1.4844 8.0469 -1.4844 l8.6719 0 l0 5.9375 l-8.5938 0 c-2.0313 0 -3.8281 0.33852 -5.3906 1.0156 c-1.6666 0.67711 -3.0208 1.5625 -4.0624 2.6563 c-1.0938 1.0416 -1.9791 2.3958 -2.6563 4.0624 c-0.625 1.5104 -0.9375 3.2031 -0.9375 5.0781 s0.3125 3.5677 0.9375 5.0781 c0.625 1.5625 1.5104 2.9166 2.6563 4.0625 c1.0416 1.0416 2.3958 1.901 4.0624 2.5781 c1.6666 0.625 3.4635 0.9375 5.3906 0.9375 l8.5938 0 l0 5.9375 l-8.6719 0 c-2.9166 0 -5.5729 -0.46875 -7.9688 -1.4063 c-2.5 -1.0416 -4.6094 -2.3698 -6.3281 -3.9844 c-1.7709 -1.6666 -3.125 -3.6458 -4.0625 -5.9374 c-0.98961 -2.3959 -1.4844 -4.8438 -1.4844 -7.3438 c0 -2.6563 0.49477 -5.1302 1.4844 -7.4219 z M235.781 38.5937 l-10.078 -14.063 c1.3541 -0.41664 2.552 -0.91141 3.5937 -1.4843 c1.1459 -0.72914 2.0834 -1.5364 2.8125 -2.4218 c0.83336 -0.98961 1.4323 -2.0573 1.797 -3.2032 c0.46875 -1.25 0.70313 -2.6563 0.70313 -4.2188 c0 -1.8229 -0.3125 -3.4635 -0.9375 -4.9219 c-0.625 -1.4063 -1.5365 -2.6302 -2.7344 -3.6719 c-1.1459 -0.98961 -2.6042 -1.7709 -4.3751 -2.3438 c-1.8229 -0.57289 -3.75 -0.85938 -5.7813 -0.85938 l-16.563 0 l0 5.9375 l16.016 0 c2.4479 0 4.3489 0.52086 5.703 1.5625 s2.0313 2.6041 2.0313 4.6875 c0 1.9271 -0.67711 3.4375 -2.0313 4.5313 c-1.3541 1.1459 -3.2291 1.7188 -5.625 1.7188 l-16.094 0 l0 18.75 l6.4844 0 l0 -12.969 l8.2031 0 l9.1406 12.969 l7.7344 0 l0 0 z M257.344 32.6562 c-0.78125 -0.15625 -1.5105 -0.3907 -2.1876 -0.7032 c-1.4584 -0.67711 -2.7344 -1.6146 -3.8281 -2.8125 c-1.0416 -1.0938 -1.875 -2.4479 -2.5 -4.0625 c-0.57289 -1.6146 -0.85938 -3.2552 -0.85938 -4.9219 l0 -0.15625 l0 -0.23438 c0 -1.7188 0.28648 -3.3854 0.85938 -5 c0.67711 -1.6666 1.5105 -2.9948 2.5001 -3.9844 c1.0416 -1.1979 2.2916 -2.1094 3.75 -2.7344 c0.88539 -0.41664 1.6406 -0.67703 2.2656 -0.78117 l0 -5.8594 c-1.8229 0.26039 -3.4375 0.70313 -4.8438 1.3281 c-2.2916 0.98961 -4.2448 2.3177 -5.8594 3.9844 s-2.8906 3.6458 -3.8281 5.9374 s-1.4063 4.6875 -1.4063 7.1875 l0 0.15625 l0 0.23438 c0 2.5521 0.46875 4.948 1.4063 7.1876 c0.83336 2.2396 2.0834 4.1927 3.75 5.8594 c1.6666 1.7188 3.6198 3.0469 5.8594 3.9844 c1.4063 0.625 3.0469 1.0677 4.9219 1.3281 l0 -5.9375 z M278.594 20 l0.000076294 -0.23438 c0 -2.5521 -0.46875 -4.948 -1.4063 -7.1876 c-0.9375 -2.2916 -2.2135 -4.2708 -3.8281 -5.9374 c-1.5625 -1.6666 -3.4896 -2.9688 -5.7813 -3.9063 c-1.3021 -0.625 -2.8906 -1.0677 -4.7656 -1.3281 l0 5.9375 l0.9375 0.3125 c0.46875 0.15625 0.83336 0.28648 1.0938 0.39063 c1.4584 0.67711 2.7344 1.6146 3.8281 2.8125 c1.0416 1.0938 1.875 2.4479 2.5 4.0625 c0.57289 1.6146 0.85938 3.2552 0.85938 4.9219 l0 0.15625 l0 0.23438 c0 1.7188 -0.28648 3.3854 -0.85938 5 c-0.67711 1.6666 -1.5105 2.9948 -2.5001 3.9844 c-1.0416 1.1979 -2.2916 2.1094 -3.75 2.7344 c-0.67711 0.3125 -1.3802 0.54688 -2.1094 0.70313 l0 5.9375 c1.5625 -0.20836 3.125 -0.65109 4.6875 -1.3282 c2.1354 -0.88539 4.0885 -2.2135 5.8594 -3.9844 c1.7188 -1.8229 2.9948 -3.802 3.8281 -5.9374 c0.9375 -2.2916 1.4063 -4.6875 1.4063 -7.1875 l0 -0.15625 z M287.5 1.4059999999999988 l-6.0156 0 l7.5781 37.188 l6.5625 0 l-4.8438 -22.891 z M312.813 1.4059999999999988 l-4.375 15.547 l2.9688 11.328 l7.1875 -26.875 l-5.7813 0 z M303.359 12.812000000000001 l-0.46875 -1.9531 l-2.5 -9.4531 l-3.3594 11.094 l-0.15625 0.3125 l-1.25 4.375 l2.3438 10.469 l1.4844 -5.1563 l3.8281 16.094 l6.6406 0 l-5.7813 -22.891 z M352.813 27.344 c-0.98961 2.3959 -2.3438 4.375 -4.0625 5.9375 c-1.7709 1.6666 -3.8542 2.9688 -6.2501 3.9063 s-5.0781 1.4063 -8.0469 1.4063 l-8.6719 0 l0 -5.9375 l8.5938 0 c1.9791 0 3.776 -0.3125 5.3906 -0.9375 c1.5625 -0.625 2.9166 -1.5104 4.0625 -2.6563 s2.0313 -2.5 2.6563 -4.0625 s0.9375 -3.2813 0.9375 -5.1563 c0 -1.8229 -0.3125 -3.5156 -0.9375 -5.0781 c-0.625 -1.6146 -1.5104 -2.9427 -2.6563 -3.9844 c-1.0416 -1.0938 -2.3958 -1.9791 -4.0624 -2.6563 c-1.6666 -0.625 -3.4635 -0.9375 -5.3906 -0.9375 l-8.5938 0 l0 -5.9375 l8.6719 0 c2.7604 0 5.4166 0.49477 7.9688 1.4844 c2.3959 0.88539 4.5052 2.2135 6.3281 3.9844 c1.7709 1.6146 3.125 3.5938 4.0625 5.9375 c0.98961 2.3959 1.4844 4.8438 1.4844 7.3438 c0 2.7084 -0.49477 5.1563 -1.4844 7.3438 z"></path></g></svg></div></a>
          </div>
            <div class="right-section">
              <button class="btn"><a href="/logout">Logout</a></button>
             
          </div>
        </div>
        
    </header>
    
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar">
        <a href="javascript:void(0)" class="close-btn" onclick="closeSidebar()">‚ò∞</a>
        <a href="profilef.html"><i class="fa-solid fa-user"></i> Profile</a>
        <a href="/freelancer/dashboard"><i class="fa-solid fa-chart-line"></i> Dashboard</a>
        <a href="Browse_Task.html"><i class="fa-solid fa-magnifying-glass"></i> Browse Task</a>
        <a href="submit_work.html"><i class="fa-solid fa-arrow-up-from-bracket"></i> Submit Work</a>
        <a href="aboutf.html"><i class="fa-solid fa-circle-info"></i> About Us</a>
        <a href="contactf.html"><i class="fa-solid fa-phone"></i> Contact Us</a>
        <a href="/logout"><i class="fa-solid fa-right-to-bracket"></i> Logout</a>
    </div>


    <!-------------------------------------------------------------------------------------------->
   
    <div class="container-submit-task">
        <h1 class="page-title-submit-task">Submit Your Work</h1>
        
        <div id="successMessage" class="success-message-submit-task">
            Your work has been submitted successfully! The client will be notified.
        </div>
        
        <div id="errorMessage" class="error-message-submit-task">
            There was an error submitting your work. Please try again.
        </div>

        <div class="submit-form-submit-task">
            <h3>Project Details</h3>

            <form id="workSubmissionForm" action="/submit-work" method="POST" enctype="multipart/form-data" class="form-submit-task">
                <div class="form-group-submit-task">
                    <label for="projectTitle">Project Title</label>
                    <input id="projectTitle" name ="projectTitle" class="input1-submit-task" type="text" placeholder="Enter Project Title" required>
                </div>
                
                <div class="form-group-submit-task">
                    <label for="clientName">Client Name</label>
                    <input id="clientName" name="clientName" class="input2-label-submit-task" type="text" placeholder="Client Name" required>
                </div>
                
                <div class="form-group-submit-task">  
                    <label for="submissionDate">Submission Date</label>
                    <input id="submissionDate" name="submissionDate" class="input3-label-submit-task" type="date" required>
                </div>    
                
                <div class="form-group-submit-task">
                    <label for="submissionTitle">Submission Title</label>
                    <input type="text" id="submissionTitle" name="submissionTitle" placeholder="Enter a clear title for your submission" required>
                </div>

                <div class="form-group-submit-task">
                    <label for="completionStatus">Completion Status</label>
                    <select id="completionStatus" name="completionStatus" required>
                        <option value="">Select status</option>
                        <option value="complete">Complete</option>
                        <option value="partial">Partial Completion</option>
                        <option value="review">For Review</option>
                    </select>
                </div>

                <div class="form-group-submit-task">
                    <label for="submissionDescription">Description of Completed Work</label>
                    <textarea id="submissionDescription" name="submissionDescription" placeholder="Provide details about what you've completed, any challenges encountered, and any other relevant information..." required></textarea>
                </div>

                <div class="form-group-submit-task">
                    <label>Upload Files</label>
                    <div class="file-upload-submit-task" id="dropArea">
                        <div class="file-upload-icon-submit-task">üìÅ</div>
                        <p>Drag & drop files here or click to browse</p>
                        <small>Accepted formats: PDF, ZIP, PNG, JPG, DOC, DOCX (Max 50MB per file)</small>
                        <input type="file" id="fileInput-submit-task" name="files" multiple>
                    </div>
                    <div id="fileList"></div>
                </div>

                <div class="form-group-submit-task">
                    <label for="additionalNotes">Additional Notes for Client</label>
                    <textarea id="additionalNotes" name="additionalNotes" placeholder="Any extra information you'd like to share with the client..."></textarea>
                </div>

                <input type="hidden" id="status" name="submissionstatus" value="submitted">
                  
                <div class="actions">
                    <button type="button" class="btn-submit-task btn-secondary-submit-task" id="saveAsDraft">Save as Draft</button>
                    <button type="submit" class="btn-submit-task submit-btn-submit-task">Submit Work</button>
                </div>
            </form>
        </div>
    </div>



    <!--------------------------------------Script ---------------------------------------------->

 <!-- particles.js lib -->
 <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>


 <script>
   // Initialize particles.js
particlesJS("particles-js", {
 "particles": {
     "number": {
         "value": 80,
         "density": {
             "enable": true,
             "value_area": 800
         }
     },
     "color": {
         "value": "#ffffff"
     },
     "shape": {
         "type": "circle",
         "stroke": {
             "width": 0,
             "color": "#000000"
         },
         "polygon": {
             "nb_sides": 5
         }
     },
     "opacity": {
         "value": 0.5,
         "random": false,
         "anim": {
             "enable": false,
             "speed": 1,
             "opacity_min": 0.1,
             "sync": false
         }
     },
     "size": {
         "value": 3,
         "random": true,
         "anim": {
             "enable": false,
             "speed": 40,
             "size_min": 0.1,
             "sync": false
         }
     },
     "line_linked": {
         "enable": true,
         "distance": 150,
         "color": "#ffffff",
         "opacity": 0.4,
         "width": 1
     },
     "move": {
         "enable": true,
         "speed": 6,
         "direction": "none",
         "random": false,
         "straight": false,
         "out_mode": "out",
         "bounce": false,
         "attract": {
             "enable": false,
             "rotateX": 600,
             "rotateY": 1200
         }
     }
 },
 "interactivity": {
     "detect_on": "window",
     "events": {
         "onhover": {
             "enable": true,
             "mode": "repulse"
         },
         "onclick": {
             "enable": true,
             "mode": "push"
         },
         "resize": true
     },
     "modes": {
         "grab": {
             "distance": 400,
             "line_linked": {
                 "opacity": 1
             }
         },
         "bubble": {
             "distance": 400,
             "size": 40,
             "duration": 2,
             "opacity": 8,
             "speed": 3
         },
         "repulse": {
             "distance": 200,
             "duration": 0.4
         },
         "push": {
             "particles_nb": 4
         },
         "remove": {
             "particles_nb": 2
         }
     }
 },
 "retina_detect": true
});



 </script>

    <script>
        // Wait for DOM to be fully loaded before manipulating elements
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Submit Work JS loaded");
            
            // Get all required elements
            const dropArea = document.getElementById('dropArea');
            const fileInput = document.getElementById('fileInput-submit-task');
            const fileList = document.getElementById('fileList');
            const form = document.getElementById('workSubmissionForm');
            const saveAsDraftBtn = document.getElementById('saveAsDraft');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            
            // Log element checks to the console for debugging
            console.log({
                dropAreaExists: !!dropArea,
                fileInputExists: !!fileInput,
                fileListExists: !!fileList,
                formExists: !!form,
                saveAsDraftBtnExists: !!saveAsDraftBtn,
                successMessageExists: !!successMessage,
                errorMessageExists: !!errorMessage
            });
            
            // Store files
            let uploadedFiles = [];
            
            // Initialize - hide messages and set default date
            function init() {
                console.log("Initializing form elements");
                // Hide messages initially
                if (successMessage) successMessage.style.display = 'none';
                if (errorMessage) errorMessage.style.display = 'none';
                
                // Set today's date as default for date input
                const today = new Date().toISOString().split('T')[0];
                const dateInput = document.getElementById('submissionDate');
                if (dateInput) dateInput.value = today;
            }
            
            // Call initialization
            init();
            
            // Only set up drag and drop if all elements exist
            if (dropArea && fileInput && fileList) {
                console.log("Setting up drag and drop");
                
                // Prevent default drag behaviors
                ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                    dropArea.addEventListener(eventName, preventDefaults, false);
                });
                
                function preventDefaults(e) {
                    e.preventDefault();
                    e.stopPropagation();
                }
                
                // Highlight drop area when dragging over it
                ['dragenter', 'dragover'].forEach(eventName => {
                    dropArea.addEventListener(eventName, highlight, false);
                });
                
                ['dragleave', 'drop'].forEach(eventName => {
                    dropArea.addEventListener(eventName, unhighlight, false);
                });
                
                function highlight() {
                    dropArea.classList.add('highlight');
                    console.log("Drop area highlighted");
                }
                
                function unhighlight() {
                    dropArea.classList.remove('highlight');
                    console.log("Drop area unhighlighted");
                }
                
                // Handle dropped files
                dropArea.addEventListener('drop', handleDrop, false);
                
                function handleDrop(e) {
                    console.log("Files dropped");
                    const dt = e.dataTransfer;
                    const files = dt.files;
                    handleFiles(files);
                }
                
                // Clicking the drop area triggers file input
                dropArea.addEventListener('click', () => {
                    console.log("Drop area clicked");
                    fileInput.click();
                });
                
                fileInput.addEventListener('change', function() {
                    console.log("File input changed");
                    handleFiles(this.files);
                });
            }
            
            function handleFiles(files) {
                console.log("Handling files:", files.length);
                // Convert FileList to Array
                files = [...files];
                
                // Validate each file (size, type, etc)
                files.forEach(file => {
                    console.log("Processing file:", file.name, file.type, file.size);
                    
                    // Check file size (max 50MB)
                    if (file.size > 50 * 1024 * 1024) {
                        showError(`File ${file.name} is too large. Maximum size is 50MB.`);
                        return;
                    }
                    
                    // Check file type
                    const validTypes = [
                        'application/pdf', 
                        'application/zip', 
                        'image/png', 
                        'image/jpeg', 
                        'application/msword', 
                        'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
                    ];
                    
                    if (!validTypes.includes(file.type)) {
                        showError(`File ${file.name} has an invalid type. Please upload PDF, ZIP, PNG, JPG, DOC, or DOCX files.`);
                        return;
                    }
                    
                    uploadedFiles.push(file);
                    updateFileList();
                });
            }
            
            function updateFileList() {
                if (!fileList) return;
                
                console.log("Updating file list:", uploadedFiles.length, "files");
                fileList.innerHTML = '';
                
                uploadedFiles.forEach((file, index) => {
                    const fileItem = document.createElement('div');
                    fileItem.className = 'file-item';
                    
                    // Format file size
                    const size = formatFileSize(file.size);
                    
                    fileItem.innerHTML = `
                        <div class="file-info">
                            <span class="file-name">${file.name}</span>
                            <span class="file-size">${size}</span>
                        </div>
                        <button type="button" class="remove-file" data-index="${index}">‚úï</button>
                    `;
                    
                    // Add event listener to remove button
                    fileList.appendChild(fileItem);
                });
                
                // Add click events to remove buttons after they're added to the DOM
                document.querySelectorAll('.remove-file').forEach(button => {
                    button.addEventListener('click', function() {
                        const index = parseInt(this.getAttribute('data-index'));
                        console.log("Removing file at index:", index);
                        uploadedFiles.splice(index, 1);
                        updateFileList();
                    });
                });
            }
            
            function formatFileSize(bytes) {
                if (bytes < 1024) return bytes + ' bytes';
                else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
                else return (bytes / 1048576).toFixed(1) + ' MB';
            }
            
            // Form submission handler
            //if (form) {
                //form.addEventListener('submit', function(e) {
                   // e.preventDefault();
                    //console.log("Form submitted");
                    
                    // Validate form
                   // if (!validateForm(false)) {
                      //  return;
                  //  }
                    
                    // In a real implementation, you would send the data to a server here
                  //  simulateSubmission(false);
              //  });
           // }
            
            function validateForm(isDraft) {
                // Skip validation if this is a draft and not a full submission
                if (isDraft) return true;
                
                const projectTitle = document.getElementById('projectTitle').value;
                const clientName = document.getElementById('clientName').value;
                const submissionDate = document.getElementById('submissionDate').value;
                const title = document.getElementById('submissionTitle').value;
                const status = document.getElementById('completionStatus').value;
                const description = document.getElementById('submissionDescription').value;
                
                console.log("Validating form:", {
                    projectTitle,
                    clientName,
                    submissionDate,
                    title,
                    status,
                    description,
                    filesCount: uploadedFiles.length
                });
                
                if (!title || !status || !description || !projectTitle || !clientName || !submissionDate) {
                    showError("Please fill in all required fields.");
                    return false;
                }
                
                if (uploadedFiles.length === 0) {
                    showError("Please upload at least one file.");
                    return false;
                }
                
                return true;
            }
            
            function simulateSubmission(isDraft) {
                const submitBtn = document.querySelector('.submit-btn-submit-task');
                if (!submitBtn) return;
                
                const originalText = submitBtn.textContent;
                
                // Show loading state
                submitBtn.disabled = true;
                submitBtn.textContent = isDraft ? 'Saving...' : 'Submitting...';
                
                console.log(isDraft ? "Saving draft..." : "Submitting form...");
                
                // Simulate network request
                setTimeout(() => {
                    // Reset button state
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                    
                    if (isDraft) {
                        // Show draft message
                        showSuccess('Your work has been saved as a draft.');
                    } else {
                        // Show success message
                        showSuccess('Your work has been submitted successfully! The client will be notified.');
                        
                        // Reset form after successful submission
                        form.reset();
                        uploadedFiles = [];
                        updateFileList();
                        
                        // Set default date again
                        const today = new Date().toISOString().split('T')[0];
                        const dateInput = document.getElementById('submissionDate');
                        if (dateInput) dateInput.value = today;
                    }
                    
                    // Scroll to top to see the success message
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    
                    // Log submission data (for development)
                    console.log(isDraft ? "Draft saved!" : "Form submitted!");
                }, 1500);
            }
            
            function showSuccess(message) {
                if (successMessage) {
                    console.log("Success:", message);
                    successMessage.textContent = message;
                    successMessage.style.display = 'block';
                    
                    if (errorMessage) errorMessage.style.display = 'none';
                    
                    setTimeout(() => {
                        successMessage.style.display = 'none';
                    }, 5000);
                }
            }
            
            function showError(message) {
                if (errorMessage) {
                    console.log("Error:", message);
                    errorMessage.textContent = message;
                    errorMessage.style.display = 'block';
                    
                    if (successMessage) successMessage.style.display = 'none';
                    
                    setTimeout(() => {
                        errorMessage.style.display = 'none';
                    }, 5000);
                } else {
                    // Fallback if error message element doesn't exist
                    alert(message);
                }
            }
            
            // Save as draft functionality
            if (saveAsDraftBtn) {
                saveAsDraftBtn.addEventListener('click', function() {
                    console.log("Save as draft clicked");
                    simulateSubmission(true);
                });
            }
        });
    </script>

    
         
            
            <script src="/static/js/index.js" async defer> </script>
        </body>
    </html>