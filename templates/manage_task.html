<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Manage Tasks</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

     <!----------------------------------FontAwesome--------------------------------------------------------->

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
     <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

     <!---------------------------------------------------------------------------------------->

     <link href="/static/css/index.css" rel="stylesheet" type="text/css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">



    <style>
        .manage-body {
            background-color: #ffffff;
            color: rgb(0, 0, 0);
            overflow: hidden;
        } 
        .h2-col {
            color: #000000;
            font-weight: bold;
            font-size: 2rem;
            margin-bottom: 20px;
            
        }
        .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="manage-body">


      <!---------------------------------------------HEADER--------------------------------------------------->

      <header class="main-header" id="up">
        <div class="header-container">
          <div  class="left-section">
            <a href="javascript:void(0);" onclick="openSidebar()"><i class="fa-solid fa-bars fa-xl" style="color: #f7f7f7;"></i></a>
            <img src="your-logo.png" alt="TaskCrowd Logo" class="logo">
            <a href="#" class="brand-name">TaskCrowd</a>
          </div>
            <div class="right-section">
              <button class="btn"><a href="">Logout</a></button>
             
          </div>
        </div>
        
    </header>
    
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar">
        <a href="javascript:void(0)" class="close-btn" onclick="closeSidebar()">☰</a>
        <a href="index.html"><i class="fa-solid fa-house"></i> Home</a>
        <a href=""><i class="fa-solid fa-user"></i> Profile</a>
        <a href="Business_Dashboard.html"><i class="fa-solid fa-chart-line"></i> Dashboard</a>
        <a href="post_task.html"><i class="fa-solid fa-file-lines"></i> Post a Task</a>
        <a href=""><i class="fa-solid fa-list-check"></i> Manage Task</a>
        <a href=""><i class="fa-solid fa-clipboard-check"></i> Task Submissions</a>
        <a href=""><i class="fa-solid fa-credit-card"></i> Payments</a>
        <a href="about.html"><i class="fa-solid fa-circle-info"></i> About Us</a>
        <a href="contact.html"><i class="fa-solid fa-phone"></i> Contact Us</a>
       
    </div>


    <!-------------------------------------------------------------------------------------------->



    <div lass="container">
        <h2 class="h2-col"> Manage Your Draft Tasks</h2>
        <div class="row justify-content-center"  id="taskContainers"></div>
    </div>

    <!-- Inline script just for debugging -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const taskContainers = document.getElementById('taskContainers');
            if (!taskContainers) return;
        
            let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        
            if (tasks.length === 0) {
                taskContainers.innerHTML = '<pre>No tasks available.</pre>';    
            } else {
                tasks.forEach((task, index) => {
                    const card = document.createElement('div');
                    card.className = 'col-12 col-sm-8 col-md-6 col-lg-4 mb-3'; 
        
                    card.innerHTML = `
                    <div class="card ">
                        <div class="card-body " >
                            <h5 class="card-title">${task.title}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">${task.category}</h6>
                            <p class="card-text">${task.description}</p>
                            <p style="font-size : 16px">Budget : ₹${task.budget}</p>
                            <p style="font-size : 16px">Deadline : ${task.deadline}</p>
                            <p style="font-size : 16px">Skills : ${task.skills.join(', ')}</p>
                            <button class="btn btn-danger btn-sm mt-2" onclick="deleteDraftTask(${index})">Delete</button>
                        </div>
                    </div> 
                    `;
                    taskContainers.appendChild(card);
                });
            }
        });
        
        function deleteDraftTask(index) {
            let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
            tasks.splice(index, 1);
            localStorage.setItem('tasks', JSON.stringify(tasks));
            location.reload();
        }
        </script>

        <script src="/static/js/index.js"></script>
        
</body>
</html>
